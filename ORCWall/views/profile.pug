doctype html
head
  title ORCWall
  link(rel='stylesheet', href='/css/style.css', type='text/css')
  link(href='https://fonts.googleapis.com/icon?family=Material+Icons', rel='stylesheet')
  link(rel='shortcut icon', type='image/png', href='/resources/Images/favicon.png')
  link(href='https://fonts.googleapis.com/css?family=Rubik', rel='stylesheet')
  link(href='https://fonts.googleapis.com/css?family=Muli:400,600,700', rel='stylesheet')
  meta(name='viewport', content='width=device-width, initial-scale=1, user-scalable=no')
// -----------------------
// -----------------------
// -----------------------
// DECLARAÇÃO DE FUNÇÕES
// -----------------------
// -----------------------
// -----------------------
// INSERE BLOCOS NO FEED
// ------------------------
// ------------------------
// ------------------------
// HTML
// ------------------------
// ------------------------
// ------------------------
// GLOBAL CONTAINER
.container
  // TOP BAR
  .navbar
    // TOP BAR - Logo
    .logowrapper
      img#logonav(src='/resources/Images/logonav.svg', onclick="location.href = '/';")
      img#logomob(src='/resources/Logo/logosmall.svg', onclick="location.href = '/';")
    // NAV BAR - MiddleSection
    .navbarsearch
      .searchbarwrapper
        input#searchbar(type='text', placeholder='Search')
      .Lupa_image_wrapper
        .lupaimage
          svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
            path(fill='none', d='M0 0h24v24H0V0z')
            path#search(fill='rgb(79, 79, 79)', d='M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z')
    // TOP BAR - botoes
    .but_nav_wrapper
      .nav_icon
        svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
          path(fill='none', d='M0 0h24v24H0V0z')
          path#world(fill='rgb(79, 79, 79)', d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z')
      .nav_icon
        svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
          path(fill='none', d='M0 0h24v24H0V0z')
          path#navmessage(fill='rgb(79, 79, 79)', d='M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-3 12H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1zm0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1z')
      .nav_icon
        svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
          path(fill='none', d='M0 0h24v24H0V0z')
          path#bell(fill='rgb(79, 79, 79)', d='M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-1.29 1.29c-.63.63-.19 1.71.7 1.71h13.17c.89 0 1.34-1.08.71-1.71L18 16z')
      .nav_icon
        .textnav(onclick="location.href = '/profile';") #{user.first_name} #{user.last_name} 
      .nav_icon
        a(href='/profile')
          img.nav-pfp(src=user.photo_url, style='width: 2em; border-radius: 50%;')
      .nav_icon
        a(href='/user/logout')
          svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
            path(fill='none', d='M0 0h24v24H0V0z')
            path#signout(fill='rgb(79, 79, 79)', d='M12 3c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1zm5.14 2.86c-.39.39-.38 1-.01 1.39 1.13 1.2 1.83 2.8 1.87 4.57.09 3.83-3.08 7.13-6.91 7.17C8.18 19.05 5 15.9 5 12c0-1.84.71-3.51 1.87-4.76.37-.39.37-1-.01-1.38-.4-.4-1.05-.39-1.43.02C3.98 7.42 3.07 9.47 3 11.74c-.14 4.88 3.83 9.1 8.71 9.25 5.1.16 9.29-3.93 9.29-9 0-2.37-.92-4.51-2.42-6.11-.38-.41-1.04-.42-1.44-.02z')
    #burger-button
      svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
        path(d='M0 0h24v24H0z', fill='none')
        path(d='M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z')
  // MAIN BODY
  #profile-bg.childcontainer
    //LEFTBAR
    a
    .sidebar
      a
      .sidebarsmall
        a
        .sidebarsections
          a(href='/')
            .leftbarIcon
              svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
                path(fill='none', d='M0 0h24v24H0V0z')
                path.sideicon(fill='#91A59B', d='M4 13h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1zm0 8h6c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm10 0h6c.55 0 1-.45 1-1v-8c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1zM13 4v4c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1z')
          a(onclick="location.href = '/';") Dashboard
        a
        .sidebarsections
          a(href='/resources')
            .leftbarIcon
              svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
                path(fill='none', d='M0 0h24v24H0V0z')
                path.sideicon(fill='#91A59B', d='M19 18l2 1V3c0-1.1-.9-2-2-2H8.99C7.89 1 7 1.9 7 3h10c1.1 0 2 .9 2 2v13zM15 5H5c-1.1 0-2 .9-2 2v16l7-3 7 3V7c0-1.1-.9-2-2-2z')
          a(onclick="location.href = '/resources';") My library
        a
        .sidebarsections
          a(href='/profile')
            .leftbarIcon
              svg(xmlns='http://www.w3.org/2000/svg', width='24', height='24', viewbox='0 0 24 24')
                path(fill='none', d='M0 0h24v24H0V0z')
                path.sideicon(fill='#91A59B', d='M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z')
          a(onclick="location.href = '/profile';") Settings
    #main-profile.main-profile
      // TOP BANNER
      #userpanel.userpanel
        .userimagewrapper
          img.userimage(src=user.photo_url)
          .userinfo
            h1.userdisplayname #{user.first_name} #{user.last_name}
            h5.userbio #{user.profession}
        .profilenav
          button#myBtn2 Edit Profile
          .profilenav-item(onclick='SWITCHinfo()') Information
          .profilenav-item(onclick='SWITCHresou()') Resources
      #myModal2.modal
        // Modal content
        .modal-content
          if(errors)
            .error
              each error, i in errors
                p #{error.msg}
          form.profileedit(method='POST', action='/profile/edit')
            | First Name:
            br
            input(type='text', name='first_name', value=user.first_name)
            br
            | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Last Name:
            br
            input(type='text', name='last_name', value=user.last_name)
            br
            | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Job Title:
            br
            input(type='text', name='profession', value=user.profession)
            br
            | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;E-Mail:
            br
            input(type='text', name='email', value=user.email)
            br
            | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Biography:
            br
            | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&ZeroWidthSpace;
            textarea#bio(name='biography', rows='2', cols='40')
              | #{user.biography}
            br
            | &#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Choose a new profile picture:
            br
            input(type='file' name='image')
            br
            input#profilecancelbutton(type='button' value='Cancel')
            input.mainbutton(type='submit', value='Submit')
      // PROFILE INFORMATION
      #infoU
        .userinfo-box
          h5.userinfo-label E-Mail
          h3.userinfo-content(contenteditable='false') #{user.email}
        .userinfo-box
          h5.userinfo-label Studied At
          h3.userinfo-content #{user.school}
        .userinfo-box
          h5.userinfo-label Works On
          h3.userinfo-content #{user.workplace}
        .userinfo-box
          h5.userinfo-label Biography
          h3.userinfo-content-longer
            | #{user.biography}
      #resourcesx.resources-box
        .resources-outer
          table.resources-table
            tr.heading
              th Hashtags
              th
              th Referenced
              th Last Update
            tr
              td.table-divider
            tr
              td 
                a #Microsoft
              td
              td 20
              td Yesterday
            tr
              td 
                a #Twitter
              td
              td 13
              td 3 hours ago
            tr
              td 
                a #Bootstrap
              td
              td 4
              td Yesterday
            tr
              td 
                a #HTTPS
              td
              td 9
              td Last week
            tr
              td
                button#myBtn3.res-button +
          table.resources-table
            tr.heading
              th Links
              th.wider URL
              th Last Update
            tr
              td Twitter
              td.wider https://twitter.com/
              td Yesterday
            tr
              td R-Network
              td.wider http://www.researchers.net/
              td 3 hours ago
            tr
              td NatGeo
              td.wider http://natgeo.com/
              td Yesterday
            tr
              td Hubble PES
              td.wider https://hubble.nasa.gov/
              td Last week
            tr
              td
                //Trigger/Open the Modal
                button#myBtn.res-button +
                br
                br
      // The Modal
      #myModal.modal
        // Modal content
        .modal-content
          span.close &times;
          p Insert the link to your resource
          div(style='margin-bottom: 2em')
            | Link: 
            input#link_input(name='link')
          div(style='margin-bottom: 2em')
            | Hashtags: 
            input#tag_input(name='tagsLinks')
          #save_tag.mainbutton(onclick='HELP();', style='width:50px') Save
      
      #myModal3.modal
        // Modal content
        .modal-content
          span.close &times;
          div(style='margin-bottom: 2em')
            | New hashtag: 
            input#new_tag(name='newTag')
          #save_hashtag.mainbutton(onclick='HELP();', style='width:50px') Save

      script.
        // Get the modal
        var modal = document.getElementById('myModal');
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        // When the user clicks the button, open the modal
        btn.onclick = function() {
        modal.style.display = "block";
        }
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        //another Modal
        var modal2 = document.getElementById('myModal2');
        // Get the button that opens the modal
        var btn2 = document.getElementById("myBtn2");
        // Get the <span> element that closes the modal
        var span2 = document.getElementById("profilecancelbutton");
        // When the user clicks the button, open the modal
        btn2.onclick = function() {
        modal2.style.display = "block";
        }
        // When the user clicks on <span> (x), close the modal
        span2.onclick = function() {
        modal2.style.display = "none";
        }
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal2) {
        modal2.style.display = "none";
        }
        }
        //Modal 3
        var modal3 = document.getElementById('myModal3');
        // Get the button that opens the modal
        var btn3 = document.getElementById("myBtn3");
        // Get the <span> element that closes the modal
        var span3 = document.getElementsByClassName("close")[1];
        // When the user clicks the button, open the modal
        btn3.onclick = function() {
        modal3.style.display = "block";
        }
        // When the user clicks on <span> (x), close the modal
        span3.onclick = function() {
        modal3.style.display = "none";
        }
        //switch tabs
        function SWITCHresou( div1, div2){
        document.getElementById('infoU').style.display= "none";
        document.getElementById('resourcesx').style.display= "block";
        document.getElementById('profile-bg').style.height= '1700';
        }
        function SWITCHinfo( div1, div2){
        document.getElementById('resourcesx').style.display= "none";
        document.getElementById('infoU').style.display= "block";
        }
        //create boxes
        var tags= getElementsByClassName('resou_tags');
        function createLink(){
        }
        /*		function TagsFolder(){
        var link = document.getElementById('link_input').value;
        var tag = document.getElementById('tag_input').value;
        var local = document.getElementById('resourcesx');
        var folders = [];
        var existags= document.getElementsByClassName('folder');
        var ver = false;
        var newfolder = tag;
        var folder ='';
        folder.innerHTML="<div>OLAAAAAAA</div>";
        document.getElementById('resourcesx').insertAdjacentHTML('beforebegin', 'folder');
        //	document.getElementById('resourcesx').innerHTML="<div>OLA!!</div>";
        } */
        function HELP() {
        var ok = true;
        var link = document.getElementById('link_input').value;
        var tag = document.getElementById('tag_input').value;
        if (ok === true) {
        var div = document.createElement('ol');
        var linkable = document.createElement('li');
        div.className = 'new-rect';
        div.style.backgroundColor = "#a6ddb0";
        div.style.margin="3em 3em 3em 3em";
        div.style.width="300px";
        div.textContent = '#' + tag ;
        linkable.className = 'linkable';
        linkable.style.margin="2em 2em 2em 2em "
        linkable.style.color="#33633d";
        linkable.innerHTML= '<a href=" ' + link + '">' + link ;
        div.appendChild(linkable);
        document.getElementById('resourcesx').appendChild(div);
        }
        };
